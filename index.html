<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Angular.js 101</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/solarized.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>Angular.js 101</h1>
          <h3>The Super heroic JavaScript MVW Framework</h3>
          <p>
            <small>By <a href="http://diogocunha.me">Diogo Cunha</a> / <a href="http://twitter.com/diffcunha">@diffcunha</a></small>
          </p>
        </section>

        <section>
          <h2>Outline</h2>
          <br>
          <ul>
            <li>Intro</li>
            <li>Templates</li>
            <li>Scope</li>
            <li>Expressions</li>
            <li>Controllers</li>
            <li>Filters</li>
            <li>Routing</li>
            <li>Services</li>
          </ul>
        </section>

        <section>
          <h2>MVW Framework</h2>
          <p>Model-View-Whatever</p>
        </section>

        <section>
          <h2>Templates</h2>
          <ul style="width: 100%">
            <li>HTML + Angular-specific elements &amp; attributes</li>
            <li>Combined with model and controller to render dynamic view</li>
          </ul>
        </section>
        <section>
          <h2>Templates <br><small>possible elements</small></h2>
          
            <div class="fragment roll-in"> 
              <p>Directive</p>
              <pre class="highlight hmtl"><code class="html" data-trim><button ng-click="handler()">Click Me!</button></code></pre>
            </div>
            <div class="fragment roll-in"> 
              <p>Markup</p>
              <pre class="highlight hmtl"><code class="html" data-trim>{{ 1 + 1 }} ==> 2</code></pre>
            </div>
            <div class="fragment roll-in"> 
              <p>Form controls</p>
              <pre class="highlight hmtl"><code class="html" data-trim><input type="text" ng-model="user.name"/></code></pre>
            </div>
            <div class="fragment roll-in"> 
              <p>Filter</p>
              <pre class="highlight hmtl"><code class="html" data-trim>{{ 100 | currency }} ==> $100.00</code></pre>
            </div>

        </section>
        <section>
          <h2>Templates <br><small>example</small></h2>
          <pre class="highlight hmtl"><code data-trim>
<div ng-controller="SomeController">
  
  <h1 class="page-header">{{ person.name }}</h1>
  <a ng-href="#/edit/{{ person.id }}">Edit</a>
  <button ng-click="call()">Call</button>

  <div ng-repeat="task in tasks">
    <div class="task">{{ task }}</div>
  </div>

</div>
          </code></pre>
        </section>

        <!-- Controllers -->

        <section>
          <h2>Scope &amp; Expressions</h2>
          <ul style="width: 85%">
            <li class="fragment">
              Object that refers to the application model<br>
              <pre class="highlight javascript"><code data-trim>
$scope.value = "Foo";
$scope.index = 2;
$scope.items = [1, 2, 3];
$scope.object = { name: "Bar" };
              </code></pre>
            </li>
            <li class="fragment">
              Execution context for expressions <br>
              <pre class="highlight hmtl"><code><div>
  <p>{{ value }}</p>
  <p>{{ index * 5 }}</p>
  <p>{{ items[index] }}</p>
  <p>{{ object.name }}</p>
</div></code></pre>
              <pre class="highlight hmtl"><code><div>
  <p>Foo</p> 
  <p>10</p>
  <p>3</p>
  <p>Bar</p>
</div></code></pre>
            </li>
          </ul>
        </section>

        <section>
          <h2>Module</h2>
          <p>Container for the different parts of the app</p>
          <pre class="highlight javascript"><code data-trim>
angular
  .module('someApp', ['otherModule', 'anotherModule']);
            </code></pre>
          <pre class="highlight hmtl"><code data-trim>
<div ng-app="someApp">
  <!-- ... -->
</div>
          </code></pre>
        </section>

        <section>
          <h2>Controllers</h2>
          <div class="fragment">
            How to create
            <pre class="highlight javascript"><code data-trim>
function SomeController() {
    ...
}

angular
  .module('someApp')
  .controller('SomeController', SomeController);
            </code></pre>
          </div>
          <div class="fragment">
            How to bind with the view
            <pre class="highlight html"><code data-trim>
<div ng-controller="SomeController">
  ...
</div>
            </code></pre>
            <p style="text-align: center"><small>Angular.js will call new SomeController() for each bind (constructor function)</small></p>
          </div>
        </section>

        <section>
          <h2>Use controllers to</h2>
            <ul>
              <li class="fragment" data-fragment-index="1">Set up the initial state of the model (scope)</li>
              <li class="fragment" data-fragment-index="2">Add behavior to the model (scope)</li>
            </ul>
            <div>
              <pre class="highlight javascript">
angular
  .module('someApp')
  .controller('SomeController', function($scope) {
    <span class="fragment" data-fragment-index="1">
    $scope.user = {
      name: "John Doe"
    };</span>
    <span class="fragment" data-fragment-index="2">
    $scope.foo = function() {
      $scope.user.name = "John Foo Doe";
    };
    </span>
  });</pre>
              <div class="fragment" data-fragment-index="3">
                <pre class="highlight html" ><code data-trim>
<div ng-controller="SomeController">
  {{ user.name }}
  <button ng-click="foo()">Click me!</button>
</div>
                </code></pre>
              </div>
          </div>
        </section>

        <section>
          <h2>Scope inheritance</h2>
          <p>Hierarchical structure which mimic the DOM structure</p>
          <div class="fragment">
            <pre class="highlight javascript">
angular.module('someApp')
  .controller('ControllerOne', function($scope) {
    $scope.value = "Foo";
    $scope.one = "One";
  })
  .controller('ControllerTwo', function($scope) {
    $scope.value = "Bar";
  });</pre>
          </div>
          <div class="fragment">
            <pre class="highlight html"><code data-trim>
<div ng-controller="ControllerOne">
  <p>{{ value }} and {{ one }}</p>
  <div ng-controller="ControllerTwo">
    <p>{{ value }} and {{ one }}</p>
  </div>
</div>
          </code></pre>
          </div>
          <div class="fragment">
            <pre class="highlight html"><code data-trim>
<div>
  <p>Foo and One</p>
  <div>
    <p>Bar and One</p>
  </div>
</div>
            </code></pre>
          </div>
        </section>

        <section>
          <h2>Filters</h2>
          <p>
            Formats the value of an expression for display to the user <br>
            <small>Built-in filters: currency, date, filter, json, limitTo, lowercase, number, orderBy, uppercase</small>
          </p>
          <div class="fragment">
            <pre class="highlight javascript">
angular
  .module('someApp')
  .controller('SomeController', function($scope, currencyFilter) {
    $scope.value = 10;
    $scope.filteredValue = currencyFilter($scope.value);
  })</pre>
          </div>
          <div class="fragment">
            <pre class="highlight html"><code data-trim>
<div ng-controller="SomeController">
  <p>{{ filteredValue }}</p>
  <p>{{ value | currency }}</p>
  <p>{{ value | currency:"€" }}</p>
</div>
          </code></pre>
          </div>
          <div class="fragment">
            <pre class="highlight html"><code data-trim>
<div>
  <p>$10.00</p>
  <p>$10.00</p>
  <p>€10.00</p>
</div>
          </code></pre>
          </div>
        </section>

        <section>
          <h2>Dependency injection</h2>
          <p>Deals with how components get hold of their dependencies</p>
          <pre class="highlight javascript">
function SomeController($scope, foo) {
  ...
}

angular
  .module('someApp')
  .controller('SomeController', ['$scope', 'foo', SomeController]);</pre>

<pre class="highlight javascript">
function SomeController($scope, foo) {
  ...
}

SomeController.$inject = ['$scope', 'foo']; 
// Could be done automatically with ng-annotate

angular
  .module('someApp')
  .controller('SomeController', SomeController);</pre>
        </section>

        <section>
          <h2>URL Routing</h2>
          <p>ngRoute from the Angular.js team <br>
            <small>ui-router is a better alternative</small></p>
          <pre class="highlight javascript">
angular
  .module('someApp', ['ngRoute'])
  .config(function($routeProvider) {
    $routeProvider
      .when('/user/:userId', {
        templateUrl: 'views/user.html',
        controller: 'UserController',
        resolve: {
          user: function($route, UserService) { 
            return UserService.get($route.current.params.userId);
          },
        }
      });
  })
  .controller('UserController', function($scope, $routeParams, user) {
    $scope.user = user;
  });</pre>

        </section>

        <section>
          <h2>Services</h2>
          <pre class="highlight javascript">
angular
  .module('someApp')
  .service('UserService', function() {
    this.users = [...];
    
    this.get = function(userId) {
      return this.users[userId]
    };
  })

  // OR

  .factory('UserService', function() {
    var users = [...];
    
    function get(userId) {
      return users[userId]
    }
    
    return {
      get: get
    };
  });</pre>

        </section>

        <section>
          <h1>Live coding</h1>
        </section>

        <section>
          <h2>Don't use controllers to</h2>
          <ul>
            <li class="fragment">
              Manipulate the DOM <br>
              <small>Use directives or databinding</small>
            </li>
            <li class="fragment">
              Share code or state <br>
              <small>Use services</small>
            </li>
            <li class="fragment">
              Filter output <br>
              <small>Use filters</small>
            </li>
            <li class="fragment">
              Format input <br>
              <small>Use form controls </small>
            </li>
          </ul>
        </section>



<!--         <section>
          <h2>Scope</h2>
          <ul style="width: 85%">
            <li class="fragment">
              Object that refers to the application model<br>
              <pre class="highlight javascript"><code data-trim>
                $scope.data = { name: "John Doe", number: 2 };
              </code></pre>
            </li>
            <li class="fragment">
              Execution context for expressions <br>
              <pre class="highlight hmtl"><code><p>{{ data.name }}</p>        ==>   <p>John Doe</p> 
<p>{{ data.number * 5 }}</p>  ==>   <p>10</p></code></pre>
            </li>
            <li class="fragment">
              Can watch expressions <br>
              <pre class="highlight javascript"><code data-trim>
$scope.$watch('data.name', function(newValue, oldValue) {
  ...
});
              </code></pre>
            </li>
            <li class="fragment">
              Can propagate events <br>
              <pre class="highlight javascript"><code data-trim>
$scope.$emit('eventName', { foo: "bar" });      // Upwards
$scope.$broadcast('eventName', { foo: "bar" }); // Downwards
              </code></pre>
            </li>
          </ul>
        </section> -->

<!--             <li class="fragment roll-in">
              How to create:
              
            </li>

            <li class="fragment roll-in"> 
              <p>Execution context for evaluating expressions</p>
              <pre><code data-trim><span>{{ user.name }}</span> ==> <span>John Doe</span></code></pre>
            </li>
          </ul>  -->
          
          


<!--           
<p>Glue between the model and the view</p>
            <li>Arranged in hierarchical structure which mimic the DOM structure</li>
            <li>Can watch expressions and propagate events</li>
            
            <div class="fragment roll-in"> 
              <p>Can watch expressions and propagate events</p>
              <pre><code data-trim>$scope.$watch('user.name', function(newValue, oldValue) { ... })</code></pre>
            </div>

          </ul> 
-->
        </section>

        <section style="text-align: left;">
          <h1>Thank you</h1>
          <p>
            <a href="https://github.com/diffcunha/angular-presentation">http://github.com/diffcunha/angular-presentation</a> <br> <br>
            <a href="http://twitter.com/diffcunha">@diffcunha</a> <br>
          </p>
        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          //{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { 
            [].forEach.call( document.querySelectorAll( '.highlight' ), function( v, i) {
              hljs.highlightBlock(v);
            });
          }}
        ]
      });

    </script>

  </body>
</html>
